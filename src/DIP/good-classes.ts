// âœ… Ð¥ÐžÐ ÐžÐ¨Ðž: Ð¡Ð¾Ð±Ð»ÑŽÐ´ÐµÐ½Ð¸Ðµ DIP - ÐºÐ»Ð°ÑÑÑ‹ Ð·Ð°Ð²Ð¸ÑÑÑ‚ Ð¾Ñ‚ Ð°Ð±ÑÑ‚Ñ€Ð°ÐºÑ†Ð¸Ð¹, Ð° Ð½Ðµ Ð¾Ñ‚ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ñ… Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¹
//
// 1. âœ… Ð’Ð«Ð¡ÐžÐšÐžÐ£Ð ÐžÐ’ÐÐ•Ð’Ð«Ð• ÐŸÐ ÐžÐ“Ð ÐÐœÐœÐÐ«Ð• Ð¡Ð£Ð©ÐÐžÐ¡Ð¢Ð˜ ÐÐ• Ð—ÐÐ’Ð˜Ð¡Ð¯Ð¢ ÐžÐ¢ ÐÐ˜Ð—ÐšÐžÐ£Ð ÐžÐ’ÐÐ•Ð’Ð«Ð¥
//    - GoodShapeCalculator Ð·Ð°Ð²Ð¸ÑÐ¸Ñ‚ Ð¾Ñ‚ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ° Shape (Ð°Ð±ÑÑ‚Ñ€Ð°ÐºÑ†Ð¸Ñ)
//    - ÐÐ• Ð·Ð°Ð²Ð¸ÑÐ¸Ñ‚ Ð¾Ñ‚ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ñ… ÐºÐ»Ð°ÑÑÐ¾Ð² Circle, Rectangle
//
// 2. âœ… ÐžÐ‘Ð Ð¢Ð˜ÐŸÐ Ð—ÐÐ’Ð˜Ð¡Ð¯Ð¢ ÐžÐ¢ ÐÐ‘Ð¡Ð¢Ð ÐÐšÐ¦Ð˜Ð™
//    - Ð’Ñ‹ÑÐ¾ÐºÐ¾ÑƒÑ€Ð¾Ð²Ð½ÐµÐ²Ñ‹Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð½Ñ‹Ðµ ÑÑƒÑ‰Ð½Ð¾ÑÑ‚Ð¸: GoodShapeCalculator Ð·Ð°Ð²Ð¸ÑÐ¸Ñ‚ Ð¾Ñ‚ Shape
//    - ÐÐ¸Ð·ÐºÐ¾ÑƒÑ€Ð¾Ð²Ð½ÐµÐ²Ñ‹Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð½Ñ‹Ðµ ÑÑƒÑ‰Ð½Ð¾ÑÑ‚Ð¸: Circle, Rectangle Ñ€ÐµÐ°Ð»Ð¸Ð·ÑƒÑŽÑ‚ Shape
//
// 3. âœ… ÐÐ‘Ð¡Ð¢Ð ÐÐšÐ¦Ð˜Ð˜ ÐÐ• Ð—ÐÐ’Ð˜Ð¡Ð¯Ð¢ ÐžÐ¢ Ð”Ð•Ð¢ÐÐ›Ð•Ð™
//    - Ð˜Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Shape Ð½Ðµ Ð·Ð½Ð°ÐµÑ‚ Ð¾ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ñ… Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸ÑÑ…
//    - ÐÐ±ÑÑ‚Ñ€Ð°ÐºÑ†Ð¸Ñ ÑÑ‚Ð°Ð±Ð¸Ð»ÑŒÐ½Ð° Ð¸ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð·Ð¼ÐµÐ½ÑÐµÑ‚ÑÑ
//
// 4. âœ… Ð”Ð•Ð¢ÐÐ›Ð˜ Ð—ÐÐ’Ð˜Ð¡Ð¯Ð¢ ÐžÐ¢ ÐÐ‘Ð¡Ð¢Ð ÐÐšÐ¦Ð˜Ð™
//    - Circle Ð¸ Rectangle Ñ€ÐµÐ°Ð»Ð¸Ð·ÑƒÑŽÑ‚ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Shape
//    - ÐšÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ðµ ÐºÐ»Ð°ÑÑÑ‹ Ð·Ð°Ð²Ð¸ÑÑÑ‚ Ð¾Ñ‚ Ð°Ð±ÑÑ‚Ñ€Ð°ÐºÑ†Ð¸Ð¸

// âœ… DIP: ÐÐ±ÑÑ‚Ñ€Ð°ÐºÑ†Ð¸Ñ (Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ) - Ð²Ñ‹ÑÐ¾ÐºÐ¾ÑƒÑ€Ð¾Ð²Ð½ÐµÐ²Ñ‹Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð½Ñ‹Ðµ ÑÑƒÑ‰Ð½Ð¾ÑÑ‚Ð¸ Ð·Ð°Ð²Ð¸ÑÑÑ‚ Ð¾Ñ‚ Ð½ÐµÑ‘
// ðŸ’¡ ÐŸÐ Ð•Ð˜ÐœÐ£Ð©Ð•Ð¡Ð¢Ð’Ðž: Ð˜Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÑ‚ ÐºÐ¾Ð½Ñ‚Ñ€Ð°ÐºÑ‚, Ð½Ð¾ Ð½Ðµ Ð·Ð½Ð°ÐµÑ‚ Ð¾ Ð´ÐµÑ‚Ð°Ð»ÑÑ… Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸
// ðŸŽ¯ Ð Ð•Ð—Ð£Ð›Ð¬Ð¢ÐÐ¢: Ð¡Ñ‚Ð°Ð±Ð¸Ð»ÑŒÐ½Ð°Ñ Ð°Ð±ÑÑ‚Ñ€Ð°ÐºÑ†Ð¸Ñ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð·Ð¼ÐµÐ½ÑÐµÑ‚ÑÑ
interface Shape {
  getArea(): number;
  getInfo(): string;
}

// âœ… DIP: ÐšÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ - Ð½Ð¸Ð·ÐºÐ¾ÑƒÑ€Ð¾Ð²Ð½ÐµÐ²Ñ‹Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð½Ñ‹Ðµ ÑÑƒÑ‰Ð½Ð¾ÑÑ‚Ð¸ Ñ€ÐµÐ°Ð»Ð¸Ð·ÑƒÑŽÑ‚ Ð°Ð±ÑÑ‚Ñ€Ð°ÐºÑ†Ð¸ÑŽ
// ðŸ’¡ ÐŸÐ Ð•Ð˜ÐœÐ£Ð©Ð•Ð¡Ð¢Ð’Ðž: ÐšÐ°Ð¶Ð´Ñ‹Ð¹ ÐºÐ»Ð°ÑÑ Ñ€ÐµÐ°Ð»Ð¸Ð·ÑƒÐµÑ‚ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Shape
// ðŸŽ¯ Ð Ð•Ð—Ð£Ð›Ð¬Ð¢ÐÐ¢: Ð’ÑÐµ Ñ„Ð¸Ð³ÑƒÑ€Ñ‹ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¾Ð´Ð¸Ð½Ð°ÐºÐ¾Ð²Ð¾ Ñ‡ÐµÑ€ÐµÐ· Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ
class Circle implements Shape {
  constructor(private radius: number) {}

  getArea(): number {
    return Math.PI * this.radius * this.radius;
  }

  getInfo(): string {
    return `Circle: radius=${this.radius}`;
  }
}

class Rectangle implements Shape {
  constructor(private width: number, private height: number) {}

  getArea(): number {
    return this.width * this.height;
  }

  getInfo(): string {
    return `Rectangle: ${this.width}x${this.height}`;
  }
}

// âœ… DIP: Ð’Ñ‹ÑÐ¾ÐºÐ¾ÑƒÑ€Ð¾Ð²Ð½ÐµÐ²Ð°Ñ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð½Ð°Ñ ÑÑƒÑ‰Ð½Ð¾ÑÑ‚ÑŒ Ð·Ð°Ð²Ð¸ÑÐ¸Ñ‚ Ð¾Ñ‚ Ð°Ð±ÑÑ‚Ñ€Ð°ÐºÑ†Ð¸Ð¸
// ðŸ’¡ ÐŸÐ Ð•Ð˜ÐœÐ£Ð©Ð•Ð¡Ð¢Ð’Ðž: ÐšÐ»Ð°ÑÑ Ð½Ðµ Ð·Ð½Ð°ÐµÑ‚ Ð¾ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð°Ñ… Ñ„Ð¸Ð³ÑƒÑ€
// ðŸŽ¯ Ð Ð•Ð—Ð£Ð›Ð¬Ð¢ÐÐ¢: ÐœÐ¾Ð¶Ð½Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ñ Ð»ÑŽÐ±Ñ‹Ð¼Ð¸ Ð¾Ð±ÑŠÐµÐºÑ‚Ð°Ð¼Ð¸, Ñ€ÐµÐ°Ð»Ð¸Ð·ÑƒÑŽÑ‰Ð¸Ð¼Ð¸ Shape
class ShapeCalculator {
  // âœ… DIP: Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑŒ Ð¾Ñ‚ Ð°Ð±ÑÑ‚Ñ€Ð°ÐºÑ†Ð¸Ð¸, Ð° Ð½Ðµ Ð¾Ñ‚ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ñ… ÐºÐ»Ð°ÑÑÐ¾Ð²
  // ðŸ’¡ ÐŸÐ Ð•Ð˜ÐœÐ£Ð©Ð•Ð¡Ð¢Ð’Ðž: Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¿ÐµÑ€ÐµÐ´Ð°ÑŽÑ‚ÑÑ Ð¸Ð·Ð²Ð½Ðµ (Ð¸Ð½ÑŠÐµÐºÑ†Ð¸Ñ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹)
  // ðŸŽ¯ Ð Ð•Ð—Ð£Ð›Ð¬Ð¢ÐÐ¢: Ð›ÐµÐ³ÐºÐ¾ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ Ð¼Ð¾Ðº-Ð¾Ð±ÑŠÐµÐºÑ‚Ð°Ð¼Ð¸
  constructor(private shapes: Shape[]) {}

  // âœ… DIP: ÐœÐµÑ‚Ð¾Ð´ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ Ð°Ð±ÑÑ‚Ñ€Ð°ÐºÑ†Ð¸ÐµÐ¹ Shape, Ð° Ð½Ðµ Ñ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¼Ð¸ Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸
  // ðŸ’¡ ÐŸÐ Ð•Ð˜ÐœÐ£Ð©Ð•Ð¡Ð¢Ð’Ðž: ÐŸÐ¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼ - Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ Ð»ÑŽÐ±Ñ‹Ð¼Ð¸ Ñ„Ð¸Ð³ÑƒÑ€Ð°Ð¼Ð¸
  // ðŸŽ¯ Ð Ð•Ð—Ð£Ð›Ð¬Ð¢ÐÐ¢: ÐÐµ Ð½ÑƒÐ¶Ð½Ð¾ Ð·Ð½Ð°Ñ‚ÑŒ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¹ Ñ‚Ð¸Ð¿ Ñ„Ð¸Ð³ÑƒÑ€Ñ‹
  calculateAllAreas(): number[] {
    return this.shapes.map((shape) => shape.getArea());
  }

  findLargestShape(): Shape | null {
    if (this.shapes.length === 0) return null;

    return this.shapes.reduce((largest, current) => {
      return current.getArea() > largest.getArea() ? current : largest;
    });
  }

  // âœ… DIP: Ð›ÐµÐ³ÐºÐ¾ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ðµ Ð¼ÐµÑ‚Ð¾Ð´Ñ‹ Ð±ÐµÐ· Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ñ…
  // ðŸ’¡ ÐŸÐ Ð•Ð˜ÐœÐ£Ð©Ð•Ð¡Ð¢Ð’Ðž: Ð Ð°ÑÑˆÐ¸Ñ€ÑÐµÐ¼Ð¾ÑÑ‚ÑŒ Ð±ÐµÐ· Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ ÐºÐ¾Ð´Ð°
  // ðŸŽ¯ Ð Ð•Ð—Ð£Ð›Ð¬Ð¢ÐÐ¢: ÐŸÑ€Ð¸Ð½Ñ†Ð¸Ð¿ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¾ÑÑ‚Ð¸/Ð·Ð°ÐºÑ€Ñ‹Ñ‚Ð¾ÑÑ‚Ð¸ ÑÐ¾Ð±Ð»ÑŽÐ´Ð°ÐµÑ‚ÑÑ
  getTotalArea(): number {
    return this.shapes.reduce((total, shape) => total + shape.getArea(), 0);
  }
}

// âœ… Ð”Ð•ÐœÐžÐÐ¡Ð¢Ð ÐÐ¦Ð˜Ð¯ 1
// Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ñ„Ð¸Ð³ÑƒÑ€ (Ð»ÑƒÑ‡ÑˆÐµ Ð±Ñ‹Ð»Ð¾ Ð±Ñ‹ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ Ñ‡ÐµÑ€ÐµÐ· DI ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€)
const circle = new Circle(5);
const rectangle = new Rectangle(4, 6);

// âœ… DIP: Ð’Ñ‹ÑÐ¾ÐºÐ¾ÑƒÑ€Ð¾Ð²Ð½ÐµÐ²Ð°Ñ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð½Ð°Ñ ÑÑƒÑ‰Ð½Ð¾ÑÑ‚ÑŒ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ Ð°Ð±ÑÑ‚Ñ€Ð°ÐºÑ†Ð¸ÑÐ¼Ð¸
// ðŸ’¡ ÐŸÐ Ð•Ð˜ÐœÐ£Ð©Ð•Ð¡Ð¢Ð’Ðž: ÐÐµ Ð½ÑƒÐ¶Ð½Ð¾ Ð·Ð½Ð°Ñ‚ÑŒ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹
// ðŸŽ¯ Ð Ð•Ð—Ð£Ð›Ð¬Ð¢ÐÐ¢: Ð“Ð¸Ð±ÐºÐ¾ÑÑ‚ÑŒ Ð¸ Ñ€Ð°ÑÑˆÐ¸Ñ€ÑÐµÐ¼Ð¾ÑÑ‚ÑŒ
const calculator = new ShapeCalculator([circle, rectangle]);

const largestShape = calculator.findLargestShape();

const areas = calculator.calculateAllAreas();

// âœ… Ð”Ð•ÐœÐžÐÐ¡Ð¢Ð ÐÐ¦Ð˜Ð¯ 2: ÐœÐ¾ÐºÐ¸ Ñ‡ÐµÑ€ÐµÐ· Ð¸Ð½ÑŠÐµÐºÑ†Ð¸ÑŽ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹
// ðŸ’¡ Ð˜Ð”Ð•Ð¯: ÐŸÐµÑ€ÐµÐ´Ð°ÐµÐ¼ Ñ„ÐµÐ¹ÐºÐ¾Ð²ÑƒÑŽ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸ÑŽ Shape Ð±ÐµÐ· Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ ÐºÐ¾Ð´Ð° ÐºÐ°Ð»ÑŒÐºÑƒÐ»ÑÑ‚Ð¾Ñ€Ð°
// ðŸŽ¯ Ð Ð•Ð—Ð£Ð›Ð¬Ð¢ÐÐ¢: Ð›ÐµÐ³ÐºÐ¾ÑÑ‚ÑŒ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¸ Ð¸Ð·Ð¾Ð»ÑÑ†Ð¸Ð¸
const mock: Shape = {
  getArea: () => 42,
  getInfo: () => "Mock",
};

const testCalculator = new ShapeCalculator([mock]);
testCalculator.calculateAllAreas();
testCalculator.getTotalArea();
testCalculator.findLargestShape();

export {};
